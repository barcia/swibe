{"version":3,"file":"swibe.min.js","sources":["../src/gre.js","../src/swibe.js"],"sourcesContent":["// Swibe Gesture Recognition Engine\nexport default {\n\t// Check if the conditions are right to open the menu\n\topen({ startX, endX }) {\n\t\tthis.openCond1 = startX < 20;\n\t\tthis.openCond2 = endX > startX;\n\n\t\treturn this.openCond1 && this.openCond2 ? true : false;\n\t},\n\n\t// Check if the conditions are right to close the menu\n\tclose({ startX, startY, endX, endY }) {\n\t\tthis.distX = endX - startX;\n\t\tthis.distY = endY - startY;\n\t\tthis.angle = ((Math.atan(this.distY / this.distX) * 180) / Math.PI) + 90;\n\n\t\tthis.closeCond1 = endX < startX;\n\t\tthis.closeCond2 = this.distY < 280;\n\t\tthis.closeCond3 = this.distX < -30;\n\t\tthis.closeCond4 = this.angle > (90 - 35);\n\t\tthis.closeCond5 = this.angle < (90 + 35);\n\n\t\treturn this.closeCond1 && this.closeCond2 && this.closeCond3 && this.closeCond4 && this.closeCond5 ? true : false;\n\t}\n}\n","/**\n * Swibe 2.0.0\n * MIT License\n * https://github.com/barcia/swibe\n */\n\nimport gre from './gre'\n\n\nexport default class Swibe {\n\n\tconstructor({\n\t\tmenuID = 'swibe-menu',\n\t\ttriggerID = 'swibe-menu-trigger',\n\t\twidth = '300px',\n\t\ttransition = '300ms',\n\t\tshadowOpacity = 0.5,\n\t\tzIndex = 999,\n\t\tbreakpoint = undefined,\n\t\tdisableCallback = undefined,\n\t\tenableCallback = undefined,\n\t\topenCallback = undefined,\n\t\tcloseCallback = undefined\n\t}) {\n\t\tthis.menuID = menuID;\n\t\tthis.triggerID = triggerID;\n\t\tthis.state = false;\n\t\tthis.width = width;\n\t\tthis.transition = transition;\n\t\tthis.shadowOpacity = shadowOpacity;\n\t\tthis.zIndex = zIndex;\n\t\tthis.breakpoint = breakpoint;\n\t\tthis.disableCallback = disableCallback;\n\t\tthis.enableCallback = enableCallback;\n\t\tthis.openCallback = openCallback;\n\t\tthis.closeCallback = closeCallback;\n\t}\n\n\n\n\tinit() {\n\t\tMenu.init(this);\n\t\tTrigger.init(this);\n\n\t\tif (Menu.element && Trigger.element) {\n\n\t\t\t// Init shadow\n\t\t\tShadow.init(this);\n\n\t\t\t// Responsive handler or enable\n\t\t\tif (this.breakpoint) {\n\t\t\t\tconst mediaQuery = window.matchMedia(`(max-width: ${this.breakpoint})`);\n\t\t\t\tconst checkMediaQuery = () => mediaQuery.matches ? this._enable(this) : this._disable(this);\n\t\t\t\tcheckMediaQuery()\n\t\t\t\tmediaQuery.addListener(checkMediaQuery)\n\t\t\t} else {\n\t\t\t\tthis._enable(this)\n\t\t\t}\n\n\t\t\t// Keyboard handler\n\t\t\tdocument.addEventListener('keydown', event => {\n\t\t\t\tif (this.state && event.key === 'Escape') {\n\t\t\t\t\tthis.close();\n\t\t\t\t};\n\t\t\t})\n\n\t\t}\n\t}\n\n\n\n\t_enable() {\n\t\tif (typeof this.enableCallback === 'function') { this.enableCallback() }\n\t\tTrigger.element.addEventListener('click', () => this.toggle() )\n\t\tShadow.element.addEventListener('click', () => this.close() )\n\t\tdocument.addEventListener('touchstart', event => Interaction.touchstart(event))\n\t\tdocument.addEventListener('touchmove', event => this._tactileHandlerAction(event))\n\t}\n\n\n\n\t_disable() {\n\t\tthis.close()\n\t\tif (typeof this.disableCallback === 'function') { this.disableCallback() }\n\t\t// Trigger.element.removeEventListener('click', () => this.toggle())\n\t\t// Shadow.element.removeEventListener('click', () => this.close())\n\t\tdocument.removeEventListener('touchstart', event => Interaction.touchstart(event))\n\t\tdocument.removeEventListener('touchmove', event => this._tactileHandlerAction(event))\n\t}\n\n\n\n\t_tactileHandlerAction(event) {\n\t\tif (!this.state) {\n\t\t\tInteraction.open(event) && this.open();\n\t\t} else {\n\t\t\tInteraction.close(event) && this.close();\n\t\t}\n\t}\n\n\n\n\n\n\topen() {\n\t\tMenu.open();\n\t\tTrigger.open();\n\t\tShadow.open();\n\t\tBody.open();\n\t\tthis.state = true\n\t\tif (typeof this.openCallback === 'function') { this.openCallback() }\n\t}\n\n\n\n\tclose() {\n\t\tMenu.close();\n\t\tTrigger.close();\n\t\tShadow.close();\n\t\tBody.close();\n\t\tthis.state = false\n\t\tif (typeof this.closeCallback === 'function') { this.closeCallback() }\n\t}\n\n\n\n\ttoggle() {\n\t\tthis.state ? this.close() : this.open();\n\t}\n}\n\n\n\n\n\n\nconst Trigger = {\n\tinit({ menuID, triggerID }) {\n\t\tthis.element = document.querySelector(`#${triggerID}`)\n\t\tif (this.element) {\n\t\t\tthis.element.setAttribute('aria-controls', menuID);\n\t\t\tthis.element.setAttribute('aria-haspopup', true);\n\t\t\tthis.element.setAttribute('aria-expanded', false);\n\t\t}\n\t},\n\n\topen() {\n\t\tthis.element.setAttribute('aria-expanded', true);\n\t},\n\n\tclose() {\n\t\tthis.element.setAttribute('aria-expanded', false);\n\t}\n}\n\n\n\n\n\nconst Menu = {\n\tinit({ menuID, width, transition, zIndex, triggerID }) {\n\t\tthis.width = width;\n\t\tthis.element = document.querySelector(`#${menuID}`);\n\t\tif (this.element) {\n\t\t\tthis.element.style.position = 'fixed';\n\t\t\tthis.element.style.top = 0;\n\t\t\tthis.element.style.left = `-${this.width}`;\n\t\t\tthis.element.style.width = this.width;\n\t\t\tthis.element.style.maxWidth = 'calc(100vw - 40px)';\n\t\t\tthis.element.style.height = '100vh';\n\t\t\tthis.element.style.transition = 'left ease-in-out';\n\t\t\tthis.element.style.transitionDuration = transition;\n\t\t\tthis.element.style.willChange = 'left';\n\t\t\tthis.element.style.overflowY = 'auto';\n\t\t\tthis.element.style.zIndex = zIndex;\n\t\t\tthis.element.setAttribute('aria-hidden', true);\n\t\t\tthis.element.setAttribute('aria-labelledby', triggerID);\n\t\t}\n\t},\n\n\topen() {\n\t\tthis.element.style.left = 0;\n\t\tthis.element.setAttribute('aria-hidden', false);\n\t},\n\n\tclose() {\n\t\tthis.element.style.left = `-${this.width}`;\n\t\tthis.element.setAttribute('aria-hidden', true);\n\t},\n}\n\n\n\n\n\nconst Shadow = {\n\tinit({ menuID, zIndex, shadowOpacity, transition }) {\n\t\tthis.menuID = menuID;\n\t\tthis.zIndex = zIndex;\n\t\tthis.shadowOpacity = shadowOpacity;\n\t\tthis.transition = transition;\n\t\tthis.element = document.createElement('div');\n\t\tthis.element.id = `${this.menuID}-shadow`;\n\t\tthis.element.style.position = 'fixed';\n\t\tthis.element.style.backgroundColor = 'hsl(0, 0%, 0%)';\n\t\tthis.element.style.top = 0;\n\t\tthis.element.style.left = 0;\n\t\tthis.element.style.zIndex = this.zIndex - 1;\n\t\tthis.element.setAttribute('aria-hidden', true);\n\t\tdocument.body.appendChild(this.element);\n\t},\n\n\topen() {\n\t\tthis.element.style.width = '100vw';\n\t\tthis.element.style.height = '100vh';\n\t\tthis.element.style.opacity = this.shadowOpacity;\n\t\tthis.element.style.transition = 'opacity ease-in-out, height step-start, width step-start';\n\t\tthis.element.style.transitionDuration = this.transition;\n\t},\n\n\tclose() {\n\t\tthis.element.style.width = 0;\n\t\tthis.element.style.height = 0;\n\t\tthis.element.style.opacity = 0;\n\t\tthis.element.style.transition = 'opacity ease-in-out, height step-end, width step-end';\n\t\tthis.element.style.transitionDuration = this.transition;\n\t}\n}\n\n\n\n\n\nconst Interaction = {\n\ttouchstart(event) {\n\t\tthis.tap = event.touches[0];\n\t\tthis.startX = this.tap.clientX;\n\t\tthis.startY = this.tap.clientY;\n\t\tthis.endX = this.startX;\n\t\tthis.endY = this.startY;\n\t},\n\n\ttouchmove(event) {\n\t\tthis.slide = event.touches[0];\n\t\tthis.endX = this.slide.clientX;\n\t\tthis.endY = this.slide.clientY;\n\t},\n\n\topen(event) {\n\t\tthis.touchmove(event)\n\t\treturn gre.open(this) ? true : false\n\t},\n\n\tclose(event) {\n\t\tthis.touchmove(event)\n\t\treturn gre.close(this) ? true : false\n\t}\n}\n\n\n\n\n\nconst Body = {\n\topen() {\n\t\tdocument.body.style.overflow = 'hidden';\n\t},\n\n\tclose() {\n\t\tdocument.body.style.overflow = ''; //IE11 Fallback\n\t\tdocument.body.style.overflow = null;\n\t}\n}\n"],"names":["open","startX","endX","openCond1","openCond2","this","close","startY","endY","distX","distY","angle","Math","atan","PI","closeCond1","closeCond2","closeCond3","closeCond4","closeCond5","Swibe","menuID","triggerID","width","transition","shadowOpacity","zIndex","breakpoint","undefined","disableCallback","enableCallback","openCallback","closeCallback","state","Menu","init","Trigger","element","Shadow","mediaQuery","window","matchMedia","checkMediaQuery","matches","_this","_enable","_disable","addListener","document","addEventListener","event","key","_this2","toggle","Interaction","touchstart","_tactileHandlerAction","removeEventListener","_this3","Body","querySelector","setAttribute","style","position","top","left","maxWidth","height","transitionDuration","willChange","overflowY","createElement","id","backgroundColor","body","appendChild","opacity","tap","touches","clientX","clientY","touchmove","slide","gre","overflow"],"mappings":"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"}