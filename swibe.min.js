function Swibe(e){const t=Object.assign({menu:"swibe-menu",trigger:"swibe-menu-trigger",state:"closed",width:300,time:300,shadowOpacity:.5,zIndex:999},e);let s;document.addEventListener("DOMContentLoaded",function(){o.get()&&o.init()});const i={get(){return this.element=document.getElementById(t.menu),!!this.element},base(){this.element.style.position="fixed",this.element.style.top=0,this.element.style.left=-t.width+"px",this.element.style.width=t.width+"px",this.element.style.maxWidth="calc(100vw - 40px)",this.element.style.height="100vh",this.element.style.transition="left ease-in-out",this.element.style.transitionDuration=t.time+"ms",this.element.style.willChange="left",this.element.style.overflowY="auto",this.element.style.zIndex=t.zIndex},open(){this.element.style.left=0,this.element.setAttribute("data-state","open")},close(){this.element.style.left=-t.width+"px",this.element.setAttribute("data-state","closed")}},n={get(){return this.element=document.getElementById(t.trigger),!!this.element}},l={create(){return this.element=document.createElement("div"),this.element.id=t.menu+"-shadow",this.element.style.position="fixed",this.element.style.backgroundColor="hsl(0, 0%, 0%)",this.element.style.top=0,this.element.style.left=0,this.element.style.zIndex=t.zIndex-1,this.element.addEventListener("click",o.close),document.body.appendChild(this.element),!0},enable(){return this.element.style.width="100vw",this.element.style.height="100vh",this.element.style.opacity=t.shadowOpacity,this.element.style.transition="opacity ease-in-out, height step-start, width step-start",this.element.style.transitionDuration=t.time+"ms",this.element.setAttribute("data-state","enabled"),!0},disable(){return this.element.style.width=0,this.element.style.height=0,this.element.style.opacity=0,this.element.style.transition="opacity ease-in-out, height step-end, width step-end",this.element.style.transitionDuration=t.time+"ms",this.element.setAttribute("data-state","disabled"),!0}},h={tap(e){let t=e.touches[0];return this.tapX=t.clientX,this.tapY=t.clientY,this.slideX=this.tapX,this.slideY=this.tapY,!0},slide(e){let t=e.touches[0];return this.slideX=t.clientX,this.slideY=t.clientY,s?!!h.gre.close(this.tapX,this.tapY,this.slideX,this.slideY)&&(o.close(),!0):!!h.gre.open(this.tapX,this.tapY,this.slideX,this.slideY)&&(o.open(),!0)},gre:{open(e,t,s,i){return this.openCond1=e<20,this.openCond2=s>e,!(!this.openCond1||!this.openCond2)},close(e,t,s,i){return this.distX=this.calcDist(e,s),this.distY=this.calcDist(t,i),this.angle=this.calcAngle(this.distX,this.distY),this.closeCond1=s<e,this.closeCond2=this.distY<280,this.closeCond3=this.distX<-30,this.closeCond4=this.angle>55,this.closeCond5=this.angle<125,!!(this.closeCond1&&this.closeCond2&&this.closeCond3&&this.closeCond4&&this.closeCond5)},calcDist:(e,t)=>t-e,calcAngle:(e,t)=>180*Math.atan(t/e)/Math.PI+90}},o={get:()=>!!(i.get()&&n.get()&&l.create())||(console.warn("Swibe items not loaded"),!1),init(){i.base(),n.element.addEventListener("click",function(){s?o.close():o.open()}),document.addEventListener("touchstart",h.tap,!1),document.addEventListener("touchmove",h.slide,!1),"closed"==t.state?o.close():o.open()},open(){i.open(),l.enable(),s=!0},close(){i.close(),l.disable(),s=!1}}}new Swibe;